<!DOCTYPE html>
<html class="no-js" lang="zxx">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title><%= pageTitle %></title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="manifest" href="site.webmanifest" />
    <link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico" />

    <!-- CSS here -->
    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/owl.carousel.min.css" />

    <link rel="stylesheet" href="/css/ticker-style.css" />

    <link rel="stylesheet" href="/css/flaticon.css" />

    <link rel="stylesheet" href="/css/slicknav.css" />
    <link rel="stylesheet" href="/css/animate.min.css" />
    <link rel="stylesheet" href="/css/magnific-popup.css" />
    <link rel="stylesheet" href="/css/fontawesome-all.min.css" />
    <link rel="stylesheet" href="/css/themify-icons.css" />
    <link rel="stylesheet" href="/css/slick.css" />
    <link rel="stylesheet" href="/css/nice-select.css" />
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/responsive.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/quill@2.0.2/dist/quill.snow.css"
      rel="stylesheet"
    />
  </head>

  <body>
    <!-- Header start -->
    <%- include('./partials/header.ejs') %>

    <main>
      <div class="container my-5">
        <p class="h3"><%= pageTitle %></p>
        <form action="edit-post" method="POST">
          <div class="mb-3">
            <label for="title" class="form-label">Title</label>
            <input
              type="text"
              class="form-control"
              id="title"
              placeholder="Enter post title"
              name="title"
            />
          </div>
          <div class="mb-3">
            <label for="content" class="form-label">Content</label>
            <div id="editor" name="content"></div>
            <textarea
              style="display: none"
              id="detail"
              name="detail"
            ></textarea>
          </div>
          <div class="mb-3">
            <label for="category" class="form-label"
              >Categories (pick at least 1)</label
            ><br />
            <input
              type="checkbox"
              id="lifestyle"
              name="category"
              value="lifestyle"
            />
            <label for="lifestyle">Lifestyle</label><br />
            <input
              type="checkbox"
              id="technology"
              name="category"
              value="technology"
            />
            <label for="technology">Technology</label><br />
            <input
              type="checkbox"
              id="business"
              name="category"
              value="business"
            />
            <label for="business">Business</label><br />
          </div>
          <div class="mb-3">
            <label for="tags" class="form-label">Tags</label>
            <input
              type="text"
              class="form-control"
              id="tags"
              placeholder="Enter tags separated by commas"
              name="tags"
            />
          </div>
          <button type="submit" class="btn btn-primary">
            <%= editing ? 'Save Post' : 'Create Post' %>
          </button>
        </form>
      </div>
    </main>

    <!-- Footer start -->
    <%- include('./partials/footer.ejs') %>

    <script src="https://cdn.jsdelivr.net/npm/quill@2.0.2/dist/quill.js"></script>

    <!-- Initialize Quill editor -->
    <script>
      const quill = new Quill("#editor", {
        modules: {
          toolbar: [
            ["bold", "italic", "underline"],
            ["link", "blockquote", "code-block", "image"],
            [{ list: "ordered" }, { list: "bullet" }],
          ],
        },
        theme: "snow",
      });

      quill.on("text-change", function (delta, oldDelta, source) {
        console.log(quill.container.firstChild.innerHTML);
        $("#detail").val(quill.container.firstChild.innerHTML);
      });
    </script>

    <!-- All JS Custom Plugins Link Here here -->
    <script src="/js/vendor/modernizr-3.5.0.min.js"></script>

    <!-- Jquery, Popper, Bootstrap -->
    <script src="/js/vendor/jquery-1.12.4.min.js"></script>
    <script src="/js/popper.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <!-- Jquery Mobile Menu -->
    <script src="/js/jquery.slicknav.min.js"></script>

    <!-- Jquery Slick , Owl-Carousel Plugins -->
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/slick.min.js"></script>
    <!-- Date Picker -->
    <script src="/js/gijgo.min.js"></script>
    <!-- One Page, Animated-HeadLin -->
    <script src="/js/wow.min.js"></script>
    <script src="/js/animated.headline.js"></script>
    <script src="/js/jquery.magnific-popup.js"></script>

    <!-- Breaking New Pluging -->
    <script src="/js/jquery.ticker.js"></script>
    <script src="/js/site.js"></script>

    <!-- Scrollup, nice-select, sticky -->
    <script src="/js/jquery.scrollUp.min.js"></script>
    <script src="/js/jquery.nice-select.min.js"></script>
    <script src="/js/jquery.sticky.js"></script>

    <!-- contact js -->
    <script src="/js/contact.js"></script>
    <script src="/js/jquery.form.js"></script>
    <script src="/js/jquery.validate.min.js"></script>
    <script src="/js/mail-script.js"></script>
    <script src="/js/jquery.ajaxchimp.min.js"></script>

    <!-- Jquery Plugins, main Jquery -->
    <script src="/js/plugins.js"></script>
    <script src="/js/main.js"></script>
  </body>
</html>
