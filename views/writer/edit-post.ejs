<!DOCTYPE html>
<html class="no-js" lang="zxx">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title><%= pageTitle %></title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="manifest" href="site.webmanifest" />
    <link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico" />

    <!-- CSS here -->
    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/owl.carousel.min.css" />

    <link rel="stylesheet" href="/css/ticker-style.css" />

    <link rel="stylesheet" href="/css/flaticon.css" />

    <link rel="stylesheet" href="/css/slicknav.css" />
    <link rel="stylesheet" href="/css/animate.min.css" />
    <link rel="stylesheet" href="/css/magnific-popup.css" />
    <link rel="stylesheet" href="/css/fontawesome-all.min.css" />
    <link rel="stylesheet" href="/css/themify-icons.css" />
    <link rel="stylesheet" href="/css/slick.css" />
    <link rel="stylesheet" href="/css/nice-select.css" />
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/responsive.css" />
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/summernote@0.9.0/dist/summernote-lite.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.9.0/dist/summernote-lite.min.js"></script>
  </head>
  <body>
    <!-- Header start -->
    <%- include('../partials/header.ejs') %>

    <main>
      <div class="container my-5">
        <p class="h3"><%= pageTitle %></p>
        <form
          action="<%= editing ? '/writer/edit-post' : '/writer/add-post' %>"
          method="POST"
        >
          <div class="mb-3">
            <label for="title" class="form-label"><strong>Title</strong></label>
            <input
              type="text"
              class="form-control"
              id="title"
              placeholder="Enter post title"
              name="title"
              value="<%= editing ? post.title : '' %>"
            />
          </div>
          <div class="mb-3">
            <label for="content" class="form-label">
              <strong>Content</strong>
            </label>
            <textarea id="summernote" name="content" id="content"><%= editing ? post.content : '' %></textarea>
          </div>
          <div class="mb-3">
            <label for="category" class="form-label">
              <strong>Category</strong>
            </label>
            <br/>
            <% if (categories.length > 0) { %>
              <% categories.forEach(cat => { %>
              <input type="radio" id="<%= cat._id %>" name="categoryId" value="<%= cat._id %>"
              <%= categoryId.toString() === cat._id.toString() ? 'checked="checked"' : '' %> />
              <label for="<%= cat._id %>"><%= cat.categoryName %></label><br />
              <% }) %>
            <% } %>
          </div>
          <div class="mb-3">
            <label for="tags"><strong>Tags</strong></label>
            <input
              type="text"
              class="form-control"
              id="tags"
              placeholder="Enter tags separated by commas"
              name="tagsString"
              value="<%= editing ? tagsString : '' %>"
            />
          </div>
          <button
            type="submit"
            class="btn btn-secondary"
            name="status"
            value="Draft"
          >
          <%= editing ? 'Save Post' : 'Create Post' %>
          </button>
          <input type="hidden" name="postId" value="<%= post._id %>">
          <% if (editing) { %>
          <input type="hidden" name="pageNumber" value="<%= pageNumber %>">
          <% } %>
        </form>
      </div>
    </main>

    <!-- Footer start -->
    <%- include('../partials/footer.ejs') %>

    <script src="/js/summernote-setup.js"></script>

    <!-- All JS Custom Plugins Link Here here -->
    <script src="/js/vendor/modernizr-3.5.0.min.js"></script>

    <!-- Jquery, Popper, Bootstrap -->
    <script src="/js/popper.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <!-- Jquery Mobile Menu -->
    <script src="/js/jquery.slicknav.min.js"></script>

    <!-- Jquery Slick , Owl-Carousel Plugins -->
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/slick.min.js"></script>
    <!-- Date Picker -->
    <script src="/js/gijgo.min.js"></script>
    <!-- One Page, Animated-HeadLin -->
    <script src="/js/wow.min.js"></script>
    <script src="/js/animated.headline.js"></script>
    <script src="/js/jquery.magnific-popup.js"></script>

    <!-- Breaking New Pluging -->
    <script src="/js/jquery.ticker.js"></script>
    <script src="/js/site.js"></script>

    <!-- Scrollup, nice-select, sticky -->
    <script src="/js/jquery.scrollUp.min.js"></script>
    <script src="/js/jquery.nice-select.min.js"></script>
    <script src="/js/jquery.sticky.js"></script>

    <!-- contact js -->
    <script src="/js/contact.js"></script>
    <script src="/js/jquery.form.js"></script>
    <script src="/js/jquery.validate.min.js"></script>
    <script src="/js/mail-script.js"></script>
    <script src="/js/jquery.ajaxchimp.min.js"></script>

    <!-- Jquery Plugins, main Jquery -->
    <script src="/js/plugins.js"></script>
    <script src="/js/main.js"></script>
  </body>
</html>
