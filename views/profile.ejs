<!DOCTYPE html>
<html class="no-js" lang="zxx">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>News</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="manifest" href="site.webmanifest" />
    <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico" />

    <!-- CSS here -->
    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/owl.carousel.min.css" />
    <link rel="stylesheet" href="/css/ticker-style.css" />
    <link rel="stylesheet" href="/css/flaticon.css" />
    <link rel="stylesheet" href="/css/slicknav.css" />
    <link rel="stylesheet" href="/css/animate.min.css" />
    <link rel="stylesheet" href="/css/magnific-popup.css" />
    <link rel="stylesheet" href="/css/fontawesome-all.min.css" />
    <link rel="stylesheet" href="/css/themify-icons.css" />
    <link rel="stylesheet" href="/css/slick.css" />
    <link rel="stylesheet" href="/css/nice-select.css" />
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/auth.css" />
  </head>

  <body>
    <%- include('./partials/header.ejs') %>

    <main>
      <div class="container">
        <!-- <div class="profile-info">
          <h2>Profile Information</h2>
          <ul>
            <li><strong>Username:</strong> <%= user.username %></li>
            <li><strong>Email:</strong> <%= user.email %></li>
            <li><strong>Role:</strong> <%= user.role %></li>
            <% if (user.membership) { %>
            <li>
              <strong>Membership Expiry:</strong> <%= user.membership.expiryDate
              %>
            </li>
            <li>
              <strong>Your premium status:</strong>
              <ul>
                <li>Type: <%= user.membership.type %></li>
                <li>Start Date: <%= user.membership.startDate %></li>
                <li>End Date: <%= user.membership.endDate %></li>
                <li>Status: <%= user.membership.status %></li>
              </ul>
              
            </li>
            <% } %>
          </ul>
        </div> -->

        <!-- Edit Profile Section -->

        <!-- Logout
        <div class="logout">
          <form id="logout-form" action="/auth/logout" method="POST">
            <button type="submit" class="logout-button">Logout</button>
          </form>
        </div>
      </div> -->

      <div class="row justify-content-center my-4">
        <div class="card w-75 text-left shadow-lg">
          <div class="card-body">
            <h4 class="card-title font-weight-bold mb-4">Thông tin cá nhân</h4>
            <hr>
      
            <!-- User Information Rows -->
            <div class="row mb-4">
              <div class="col-md-6">
                <div class="form-group">
                  <label for="username" class="font-weight-semibold">Tên người dùng</label>
                  <input type="text" class="form-control" id="username" readonly value="<%= user.username %>">
                </div>
              </div>
      
              <div class="col-md-6">
                <div class="form-group">
                  <label for="email" class="font-weight-semibold">Email</label>
                  <input type="text" class="form-control" id="email" readonly value="<%= user.email %>">
                </div>
              </div>
            </div>
      
            <div class="row mb-4">
              <div class="col-md-6">
                <div class="form-group">
                  <label for="fullname" class="font-weight-semibold">Họ và tên</label>
                  <input type="text" class="form-control" id="fullname" readonly value="<%= userInfo.fullname %>">
                </div>
              </div>
      
              <div class="col-md-6">
                <div class="form-group">
                  <label for="dob" class="font-weight-semibold">Ngày sinh</label>
                  <input type="text" class="form-control" id="dob" readonly
                    value="<%= new Date(userInfo.dateOfBirth).toLocaleDateString('vi-VN') %>">
                </div>
              </div>
            </div>
      
            <!-- User Role -->
            <div class="form-group mb-4">
              <label for="role" class="font-weight-semibold">Vai trò</label>
              <input type="text" class="form-control" id="role" readonly value="<%= user.role %>">
            </div>
      
            <% if (user.role === "writer") { %>
              <div class="form-group mb-4">
                <label for="penName" class="font-weight-semibold">Bút danh</label>
                <input type="text" class="form-control" id="penName" readonly value="<%= userInfo.penName %>">
              </div>
            <% } %>
      
            <% if (user.role === "membership") { %>
              <!-- Membership Status -->
              <div class="membership-status card shadow-sm p-4 mt-4">
                <div class="d-flex justify-content-between align-items-center mb-3">
                  <h5 class="mb-0 font-weight-bold">Trạng thái Thẻ Thành Viên</h5>
                  <span class="badge <%= extraInfo.isExpired ? 'badge-danger' : 'badge-success' %> p-3">
                    <%= extraInfo.isExpired ? "Hết hạn" : "Còn hiệu lực" %>
                  </span>
                </div>
                <hr>
      
                <!-- Membership Dates -->
                <div class="date-info mb-3">
                  <p><strong>Ngày bắt đầu:</strong> <%= extraInfo.formattedStartDate %></p>
                  <p><strong>Ngày kết thúc:</strong> <%= extraInfo.formattedEndDate %></p>
                </div>
      
                <!-- Remaining Time -->
                <div class="remaining-time text-center mt-4">
                  <p class="lead font-weight-bold"><strong>Thời gian còn lại:</strong></p>
                  <p class="display-4 text-primary"><%= extraInfo.remainingTime %></p>
                </div>
              </div>
            <% } %>
      
            <!-- Logout Button -->
            <div class="mt-4 text-center">
              <form id="logout-form" action="/auth/logout" method="POST">
                <button type="submit" class="btn btn-danger btn-lg">Đăng xuất</button>
              </form>
            </div>
          </div>
        </div>
      </div>
      
    </main>

    <%- include('./partials/footer.ejs') %>

    <!-- JS here -->

    <!-- All JS Custom Plugins Link Here here -->
    <script src="/js/vendor/modernizr-3.5.0.min.js"></script>
    <!-- Jquery, Popper, Bootstrap -->
    <script src="/js/vendor/jquery-1.12.4.min.js"></script>
    <script src="/js/popper.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <!-- Jquery Mobile Menu -->
    <script src="/js/jquery.slicknav.min.js"></script>

    <!-- Jquery Slick , Owl-Carousel Plugins -->
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/slick.min.js"></script>
    <!-- Date Picker -->
    <script src="/js/gijgo.min.js"></script>
    <!-- One Page, Animated-HeadLin -->
    <script src="/js/wow.min.js"></script>
    <script src="/js/animated.headline.js"></script>
    <script src="/js/jquery.magnific-popup.js"></script>

    <!-- Breaking New Pluging -->
    <script src="/js/jquery.ticker.js"></script>
    <script src="/js/site.js"></script>

    <!-- Scrollup, nice-select, sticky -->
    <script src="/js/jquery.scrollUp.min.js"></script>
    <script src="/js/jquery.nice-select.min.js"></script>
    <script src="/js/jquery.sticky.js"></script>

    <!-- contact js -->
    <script src="/js/contact.js"></script>
    <script src="/js/jquery.form.js"></script>
    <script src="/js/jquery.validate.min.js"></script>
    <script src="/js/mail-script.js"></script>
    <script src="/js/jquery.ajaxchimp.min.js"></script>

    <!-- Jquery Plugins, main Jquery -->
    <script src="/js/plugins.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/head.js"></script>
  </body>
</html>
